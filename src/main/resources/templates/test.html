<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">
<!--    <style>-->
<!--        table, th, td{-->
<!--            border:1px solid yellowgreen;-->
<!--            border-collapse: collapse;-->
<!--        }-->
<!--    </style>-->

    <!-- 사용자 스크립트 추가 -->
    <th:block layout:fragment="script">
        <script th:inline="javascript">

            $(document).ready(function(){
                $("#searchBtn").on("click",function(e) {
                    e.preventDefault();
                    page(0);
                });
            });

            function page(page){
                var searchDateType = $("#searchDateType").val();
                var searchSellStatus = $("#searchSellStatus").val();
                var searchBy = $("#searchBy").val();
                var searchQuery = $("#searchQuery").val();

                location.href="/admin/items/" + page + "?searchDateType=" + searchDateType
                    + "&searchSellStatus=" + searchSellStatus
                    + "&searchBy=" + searchBy
                    + "&searchQuery=" + searchQuery;
            }

        </script>
    </th:block>
</head>
<body>
<div class="container">
    <a href="/apiTest">서비스</a>

    <table class="table">
        <thead>
        <th>테마</th>
        <th>코스명</th>
        <th>코스지역</th>
        <th>관광지점</th>
        <th>관광지명</th>
        <th>풍속</th>
        <th>하늘상태</th>
        <th>습도</th>
        <th>강수확률</th>
        </thead>
        <tr th:each="tourInfo : ${tourInfos}">
            <td th:text="${tourInfo.getThema()}"></td>
            <td th:text="${tourInfo.getCourseName()}"></td>
            <td th:text="${tourInfo.getCourseAreaName()}"></td>
            <td th:text="${tourInfo.getSpotAreaName()}"></td>
            <td th:text="${tourInfo.getSpotName()}"></td>
            <td th:text="${tourInfo.getWs()}"></td>
            <td th:if="${tourInfo.getSky() == 1}" th:text="맑음"></td>
            <td th:if="${tourInfo.getSky() == 2}" th:text="구름"></td>
            <td th:if="${tourInfo.getSky() == 3}" th:text="흐림"></td>
            <td th:if="${tourInfo.getSky() == 4}" th:text="비"></td>
            <td th:if="${tourInfo.getSky() == 5}" th:text="소나기"></td>
            <td th:if="${tourInfo.getSky() == 6}" th:text="비눈"></td>
            <td th:if="${tourInfo.getSky() == 7}" th:text="눈비"></td>
            <td th:if="${tourInfo.getSky() == 8}" th:text="눈"></td>
            <td th:text="${tourInfo.getRhm()}"></td>
            <td th:text="${tourInfo.getPop()+'%'}"></td>
        </tr>
    </table>
<!--    <nav aria-label="Page navigation example">-->
<!--        <ul class="pagination">-->
<!--            <li class="page-item"><a class="page-link" href="#">Previous</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">1</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">2</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">3</a></li>-->
<!--            <li class="page-item"><a class="page-link" href="#">Next</a></li>-->
<!--        </ul>-->
<!--    </nav>-->



    <div th:with="start=${(pageNo/maxPage)*maxPage + 1}, end=(${( totalCount == 0) ? 1 : (start + (maxPage - 1) < totalPage ? start + (maxPage - 1) : totalPage)})" >
        <ul class="pagination justify-content-center">

            <li class="page-item" th:classappend="${tourInfos}?'disabled'">
                <a th:onclick="'javascript:page(' + ${pageNo - 1} + ')'" aria-label='Previous' class="page-link">
                    <span aria-hidden='true'>Previous</span>
                </a>
            </li>

            <li class="page-item" th:each="page: ${#numbers.sequence(start, end)}" th:classappend="${pageNo eq page-1}?'active':''">
                <a th:onclick="'javascript:page(' + ${page - 1} + ')'" th:inline="text" class="page-link">[[${page}]]</a>
            </li>

            <li class="page-item" th:classappend="${tourInfos.last}?'disabled'">
                <a th:onclick="'javascript:page(' + ${pageNo + 1} + ')'" aria-label='Next' class="page-link">
                    <span aria-hidden='true'>Next</span>
                </a>
            </li>

        </ul>
    </div>


</div>
</body>
</html>